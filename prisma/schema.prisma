// Add this to your existing schema.prisma
model Course {
  id           String       @id @default(auto()) @map("_id") @db.ObjectId
  name         String
  from         DateTime     @default(now())
  to           DateTime     @default(now())
  createdate   DateTime     @default(now())
  user         User         @relation(fields: [userId], references: [id])
  userId       String       @db.ObjectId
  videos       Video[]
}

model Video {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  title       String
  description String
  vimeoId     String
  dayNumber   Int
  course      Course    @relation(fields: [courseId], references: [id])
  courseId    String    @db.ObjectId
  progress    VideoProgress[]
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model VideoProgress {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  user        User      @relation(fields: [userId], references: [id])
  userId      String    @db.ObjectId
  video       Video     @relation(fields: [videoId], references: [id])
  videoId     String    @db.ObjectId
  progress    Float     @default(0)
  completed   Boolean   @default(false)
  lastWatched DateTime  @default(now())
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@unique([userId, videoId])
}